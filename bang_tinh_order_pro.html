<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bảng Tính - Vũ Lê Figure</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to right, #f0f0f0, #e0e0e0);
      padding: 40px;
    }

    .calculator {
      max-width: 600px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      padding: 30px;
      position: relative;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    td {
      padding: 10px;
    }

    input[type="number"] {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    input[readonly] {
      background-color: #f9f9f9;
      border: 1px solid #ddd;
    }

    .result {
      font-weight: bold;
    }

    .button-container {
      text-align: center;
      margin-top: 20px;
    }

    button {
      padding: 10px 20px;
      border: none;
      background-color: #007bff;
      color: white;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
    }

    button:hover {
      background-color: #0056b3;
    }

    #print-shop-name {
      display: block;
      position: absolute;
      top: 10px;
      left: 10px;
      font-size: 14px;
      color: black;
      font-weight: bold;
    }

    #print-slogan {
      display: block;
      position: absolute;
      bottom: 10px;
      left: 10px;
      font-size: 12px;
      color: black;
      font-style: italic;
      font-weight: 300;
      font-family: 'Arial', sans-serif;
    }

    #print-datetime {
      display: block;
      position: absolute;
      bottom: 10px;
      right: 10px;
      font-size: 12px;
      color: black;
      font-weight: 400;
    }
  </style>
</head>
<body>
  <div class="calculator">
    <div id="print-shop-name">Vũ Lê Figure</div>
    <div id="print-slogan">Mang thế giới Wibu đến bên bạn</div>
    <div id="print-datetime"></div>

    <h1>Bảng Tính Đặt Hàng</h1>
    <table>
      <tr>
        <td>Giá sản phẩm tại Nhật (yên):</td>
        <td><input type="number" id="o1" placeholder="Nhập giá sản phẩm" /></td>
      </tr>
      <tr>
        <td>Phí vận chuyển nội địa Nhật:</td>
        <td><input type="number" id="o2" placeholder="Nhập phí nội địa nếu có" /></td>
      </tr>
      <tr>
        <td>Phí ship về VN:</td>
        <td><input type="number" id="o3" placeholder="Thường 100.000 - 120.000₫" /></td>
      </tr>
      <tr>
        <td>Tỉ giá yên/đồng:</td>
        <td><input type="number" id="o4" placeholder="VD: 180" /></td>
      </tr>
      <tr>
        <td>Phí dịch vụ:</td>
        <td><input type="number" id="o5" placeholder="VD: 10%" /></td>
      </tr>
      <tr>
        <td>Phụ phí khác (nếu có):</td>
        <td><input type="number" id="o6" placeholder="Thêm phí nếu có" /></td>
      </tr>
      <tr id="o71-row">
        <td>Phí dịch vụ tối đa:</td>
        <td><input type="text" id="o71" placeholder="Tùy theo giá trị sản phẩm tối đa 400.000₫" readonly /></td>
      </tr>
      <tr>
        <td>Tổng tiền tạm tính:</td>
        <td><input type="text" id="o7" class="result" readonly /></td>
      </tr>
    </table>
    <div class="button-container">
      <button onclick="tinhDonHang()">Tính Toán</button>
    </div>
  </div>

  <script>
    function format(num) {
      return Number(num).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });
    }

    function tinhDonHang() {
      const o1 = parseFloat(document.getElementById("o1").value) || 0;
      const o2 = parseFloat(document.getElementById("o2").value) || 0;
      const o3 = parseFloat(document.getElementById("o3").value) || 0;
      const o4 = parseFloat(document.getElementById("o4").value) || 0;
      const o5 = parseFloat(document.getElementById("o5").value) || 0;
      const o6 = parseFloat(document.getElementById("o6").value) || 0;

      const tienHang = (o1 + o2) * o4;
      const phiDichVu = Math.min(tienHang * (o5 / 100), 400000);
      const tong = tienHang + phiDichVu + o3 + o6;

      const o71El = document.getElementById("o71");
      o71El.value = o1 > 0 ? format(phiDichVu) : "";

      document.getElementById("o7").value = format(tong);
    }

    // In ngày giờ hiện tại
    document.getElementById("print-datetime").innerText = new Date().toLocaleString("vi-VN");
  </script>
</body>
</html>
